<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Prazos Processuais</title>
    <style>
        /* Reset b치sico, remove a margem e o preenchimento padrao */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #2c3e50;
            padding: 20px;
        }

        .container {
            max-width: 500px;
            margin: 50px auto;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 14px;
        }

        /* Estilos do formul치rio, organiza em blocos tem치ticos*/
        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #2c3e50;
            font-weight: bold;
        }

        input[type="date"],
        input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #bdc3c7;
            border-radius: 5px;
            font-size: 16px;
        }

        input[type="date"]:focus,
        input[type="number"]:focus {
            outline: none;
            border-color: #3498db;
        }

        /* Estilo espec칤fico para o bot칚o de r치dio (Dias Corridos / Dias 칔teis) */
        .radio-group {
            margin-top: 10px;
        }

        .radio-option {
            margin-bottom: 10px;
        }

        input[type="radio"] {
            margin-right: 5px;
        }

        /* Estilo do bot칚o "Calcular Prazo" */
        button {
            width: 100%;
            padding: 12px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }

        button:hover {
            background-color: #2980b9;
        }

        /* Estilo da div que mostra o resultado do c치lculo */
        .resultado {
            margin-top: 30px;
            padding: 20px;
            background-color: #ecf0f1;
            border-radius: 5px;
            display: none;
        }

        .resultado.mostrar {
            display: block;
        }

        .resultado h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .resultado p {
            margin-bottom: 10px;
            color: #34495e;
        }

        .data-final {
            background-color: #3498db;
            color: white;
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            margin-top: 15px;
        }

        .aviso {
            margin-top: 20px;
            padding: 15px;
            background-color: #e8f4f8;
            border-left: 4px solid #3498db;
            font-size: 13px;
            color: #2c3e50;
        }

        /* Se adapta a diferentes tamanhos de tela */
        @media (max-width: 600px) {
            .container {
                padding: 20px;
                margin: 20px auto;
            }

            h1 {
                font-size: 22px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>丘뒲잺 Calculadora de Prazos</h1>
        <p class="subtitle">C치lculo de Prazos Processuais</p>

        <form id="formulario">
            <div class="form-group">
                <label for="dataInicial">Data Inicial:</label>
                <input type="date" id="dataInicial" required>
            </div>

            <div class="form-group">
                <label for="quantidadeDias">Quantidade de Dias:</label>
                <input type="number" id="quantidadeDias" min="1" placeholder="Ex: 15" required>
            </div>

            <div class="form-group">
                <label>Tipo de Prazo:</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="corridos" name="tipoPrazo" value="corridos" checked>
                        <label for="corridos">Dias Corridos</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="uteis" name="tipoPrazo" value="uteis">
                        <label for="uteis">Dias 칔teis</label>
                    </div>
                </div>
            </div>

            <button type="submit">Calcular Prazo</button>
        </form>

        <div class="resultado" id="resultado">
            <h2>游늰 Resultado</h2>
            <p><strong>Data Inicial:</strong> <span id="showDataInicial"></span></p>
            <p><strong>Prazo:</strong> <span id="showPrazo"></span></p>
            <p><strong>Tipo:</strong> <span id="showTipo"></span></p>
            <div class="data-final">
                Data Final: <span id="showDataFinal"></span>
            </div>
        </div>

        <div class="aviso">
            <strong>游늷 Observa칞칚o:</strong> Esta calculadora n칚o considera feriados nacionais, apenas finais de semana para dias 칰teis.
        </div>
    </div>

    <script>
        // Define automaticamente a data de hoje no campo de data
        window.onload = function() {
            const hoje = new Date();
            const ano = hoje.getFullYear();
            const mes = String(hoje.getMonth() + 1).padStart(2, '0');
            const dia = String(hoje.getDate()).padStart(2, '0');
            document.getElementById('dataInicial').value = `${ano}-${mes}-${dia}`;
        };

        // Impede que a p치gina seja carregada automaticamente e perca os dados
        document.getElementById('formulario').addEventListener('submit', function(e) {
            e.preventDefault(); // Evita recarregar a p치gina
            calcular();
        });

        // Fun칞칚o principal de c치lculo, chama outras fun칞칫es menores
        function calcular() {
            // Pega os valores do formul치rio
            const dataInicial = document.getElementById('dataInicial').value;
            const quantidadeDias = parseInt(document.getElementById('quantidadeDias').value);
            const tipoPrazo = document.querySelector('input[name="tipoPrazo"]:checked').value;

            // Verificar se os campos est칚o preenchidos
            if (!dataInicial || !quantidadeDias) {
                alert('Por favor, preencha todos os campos!');
                return;
            }

            // + 'T12:00:00' = adiciona hor치rio (meio-dia) para evitar problemas de fuso hor치rio
            const dataInicio = new Date(dataInicial + 'T12:00:00');
            let dataFinal;

            // Verifica qual tipo de prazo foi escolhido
            if (tipoPrazo === 'corridos') {
                dataFinal = calcularDiasCorridos(dataInicio, quantidadeDias);
            } else {
                dataFinal = calcularDiasUteis(dataInicio, quantidadeDias);
            }

            // Mostrar o resultado
            mostrarResultado(dataInicio, quantidadeDias, tipoPrazo, dataFinal);
        }

        // Calcular dias corridos (soma todos os dias)
        function calcularDiasCorridos(dataInicio, dias) {
            const dataResultado = new Date(dataInicio);
            dataResultado.setDate(dataResultado.getDate() + dias);
            return dataResultado;
        }

        // Calcular dias 칰teis (pula s치bados e domingos)
        function calcularDiasUteis(dataInicio, dias) {
            let dataAtual = new Date(dataInicio);
            let diasContados = 0;

            // Enquanto n칚o contar todos os dias 칰teis
            while (diasContados < dias) {
                dataAtual.setDate(dataAtual.getDate() + 1);
                const diaSemana = dataAtual.getDay();
                
                // Se n칚o for s치bado (6) nem domingo (0), conta como dia 칰til
                if (diaSemana !== 0 && diaSemana !== 6) {
                    diasContados++;
                }
            }

            return dataAtual;
        }

        // Formata a data para uma exibi칞칚o mais agrad치vel
        function formatarData(data) {
            const dias = ['Domingo', 'Segunda', 'Ter칞a', 'Quarta', 'Quinta', 'Sexta', 'S치bado'];
            const meses = ['Janeiro', 'Fevereiro', 'Mar칞o', 'Abril', 'Maio', 'Junho', 
                          'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'];
            
            const dia = String(data.getDate()).padStart(2, '0');
            const mes = meses[data.getMonth()];
            const ano = data.getFullYear();
            const diaSemana = dias[data.getDay()];

            return `${dia} de ${mes} de ${ano} (${diaSemana})`;
        }

        // Chama a fun칞칚o que vai exibir o resultado na tela
        function mostrarResultado(dataInicio, dias, tipo, dataFinal) {
            document.getElementById('showDataInicial').textContent = formatarData(dataInicio);
            document.getElementById('showPrazo').textContent = dias + (dias === 1 ? ' dia' : ' dias');
            document.getElementById('showTipo').textContent = tipo === 'corridos' ? 'Dias Corridos' : 'Dias 칔teis';
            document.getElementById('showDataFinal').textContent = formatarData(dataFinal);

            // Torna a div de resultado vis칤vel
            document.getElementById('resultado').classList.add('mostrar');
        }
    </script>
</body>
</html>